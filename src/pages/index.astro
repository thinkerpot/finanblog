---
import { getCollection } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import HomePosts from "../components/HomePosts.astro";
import ColorScript from "../components/ColorScript.astro";
import Tags from "../components/Tags.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../config";
import { Content as About } from "./about.md";
import getTags from "../scripts/getTags";

const posts = await getCollection("posts");
const tags = getTags(posts);
---

<!doctype html>
<html lang="id">
	<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />

  <!-- Schema: WebSite -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Finance by EduCentrals",
    "url": "https://finance.educentrals.com",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://finance.educentrals.com/?s={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Schema: Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Finance by EduCentrals",
    "url": "https://finance.educentrals.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://finance.educentrals.com/favicon.ico"
    },
    "sameAs": [
      "https://www.instagram.com/educentrals",
      "https://www.linkedin.com/company/educentrals"
    ]
  }
  </script>

  <!-- Schema: FAQPage for Rich Snippet -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Apa itu Finance by EduCentrals?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Finance by EduCentrals adalah blog edukasi keuangan yang menyajikan tips praktis, panduan investasi, dan strategi bisnis untuk anak muda."
        }
      },
      {
        "@type": "Question",
        "name": "Apa saja topik yang dibahas di blog ini?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Kami membahas topik seperti budgeting, investasi pemula, cara menabung, membangun bisnis, serta cara keluar dari jebakan gaji UMR."
        }
      },
      {
        "@type": "Question",
        "name": "Apakah kontennya cocok untuk pemula?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Ya, semua konten dirancang agar mudah dipahami oleh siapa saja yang baru mulai belajar mengatur keuangan."
        }
      }
    ]
  }
  </script>

	<body>
		<Header title={SITE_TITLE} />
		<main>
			<About />

			<br />

			<h3>Here's my most recent posts</h3>

			<HomePosts allPosts={posts} />

			<p class="center">
				You can also <a href="https://finance.educentrals.com/rss.xml">
					subscribe with RSS!
				</a>
			</p>
			<br />

			<Tags tags={tags} all />
		</main>
		<Footer />
		<ColorScript />
	</body>
</html>
